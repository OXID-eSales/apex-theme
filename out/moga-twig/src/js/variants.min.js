addDropdownLinksEventListeners=()=>{var aVariantDropdownLinks=document.querySelectorAll("#variants .dropDown a"),aVariantDropdownLinks=(aVariantDropdownLinks&&aVariantDropdownLinks.forEach(a=>a.addEventListener("click",handleVariantDropdownLinkClick)),document.querySelector(".js-oxProductForm #toBasket"));aVariantDropdownLinks&&aVariantDropdownLinks.addEventListener("click",handleVariantAddToBasket)},handleVariantDropdownLinkClick=e=>{e.preventDefault();let dropdownLink=e.target,dropdown=dropdownLink.closest(".dropdown"),varselidInput=dropdown.querySelector("input[name^=varselid]");e=dropdownLink.dataset.selectionId,varselidInput.value=e,e=document.querySelector(".js-oxWidgetReload");let formData=serialize(e),aSelectionInputs=document.querySelectorAll("input[name^=varselid]","form.js-oxProductForm");aSelectionInputs.forEach((inputField,i)=>{formData+="&varselid%5B"+i+"%5D="+inputField.value});e=new XMLHttpRequest;e.open("GET","/index.php?"+formData,!0),e.onload=function(){var html;200<=this.status&&this.status<400&&(html=this.response,document.getElementById("details_container").innerHTML=html,addDropdownLinksEventListeners())},e.onerror=function(){console.log("error")},e.send()},handleVariantAddToBasket=e=>{e.preventDefault();e=e.target.closest(".js-oxProductForm");e.querySelector("input[name=cl]").value="details",e.submit()},addDropdownLinksEventListeners();var serialize=function(form){for(var serialized=[],i=0;i<form.elements.length;i++){var field=form.elements[i];if(field.name&&!field.disabled&&"file"!==field.type&&"reset"!==field.type&&"submit"!==field.type&&"button"!==field.type)if("select-multiple"===field.type)for(var n=0;n<field.options.length;n++)field.options[n].selected&&serialized.push(encodeURIComponent(field.name)+"="+encodeURIComponent(field.options[n].value));else("checkbox"!==field.type&&"radio"!==field.type||field.checked)&&serialized.push(encodeURIComponent(field.name)+"="+encodeURIComponent(field.value))}return serialized.join("&")};