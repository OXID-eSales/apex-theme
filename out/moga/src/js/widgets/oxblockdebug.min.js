!function(a){oxBlockDebug={_create:function(){a("hr.debugBlocksStart").each(function(){for(var b=a(this).attr("title"),c=a(this).attr("id"),d=a(this).next();d.hasClass("debugBlocksStart");)d=d.next();var e=d.offset().left,f=d.offset().left+d.outerWidth(),g=d.offset().top,h=d.offset().top+d.outerHeight(),i=function(){a(this).hasClass("debugBlocksStart")||a(this).hasClass("debugBlocksEnd")||(e=Math.min(e,a(this).offset().left),f=Math.max(f,a(this).offset().left+a(this).outerWidth()),g=Math.min(g,a(this).offset().top),h=Math.max(h,a(this).offset().top+a(this).outerHeight()),a(this).children(":visible").each(i))};a(this).nextUntil("hr.debugBlocksEnd[title="+c+"]").filter(":visible").each(i);var j=f-e,k=h-g,l=a("<div class='tplDebugBlock' style='z-index:1001;background-color:rgba(200, 200, 200, 0.2)'>").html("<span id='"+c+"_title' style='z-index:1003;color:#fff;background-color:#444;background-color:rgba(0, 0, 0, 0.7);padding:2px 6px;'>Block: "+b+"</span>");l.attr("id",c+"_border"),l.css({position:"absolute",top:g,left:e,width:j-4,height:k-4,border:"1px dashed #a33",padding:"2px 1px"}),a("body").append(l),a("#"+c+"_title").hover(function(){a(this).css("z-index",1004),a(this).css("background-color","#000"),a("#"+c+"_border").css({border:"2px solid #f00",padding:"1px 0","z-index":1002})},function(){a(this).css("z-index",1003);try{a(this).css("background-color","rgba(0, 0, 0, 0.7)")}catch(b){a(this).css("background-color","#444")}a("#"+c+"_border").css({border:"1px dashed #a33",padding:"2px 1px","z-index":1001})})}),a("body").append(a("<button>Toggle template debug blocks</button>").css({right:0,top:0,position:"fixed",background:"#a33",color:"#fff",border:"1px solid #600",padding:"3px 10px",cursor:"pointer",width:"230px","z-index":1005}).click(function(){a("div.tplDebugBlock").toggle()}).hover(function(){a(this).css("background","#533")},function(){a(this).css("background","#a33")}))}},a.widget("ui.oxBlockDebug",oxBlockDebug)}(jQuery);